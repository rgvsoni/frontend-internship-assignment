<!-- mat table -->

<div class="mat-elevation-z2">
  <div class="example-table-container">
    <table mat-table [dataSource]="dataSource">

      <!-- book title -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef>
          <span style="font-weight: bold;" *ngIf="query==='search'; else noServer">Book title</span>
          <ng-template #noServer> 
            <span style="font-weight: bold;">Book title ({{subjectName}})</span>
          </ng-template>
          
        </th>
        <td mat-cell *matCellDef="let element">{{ element.title }}</td>
      </ng-container>

      <!-- name of all authors -->
      <ng-container matColumnDef="authors">
        <th mat-header-cell *matHeaderCellDef>
           <span style="font-weight: bold;">Authors</span> 
          </th>
        <td mat-cell *matCellDef="let element">
          <span *ngFor="let author of element.authors"> {{ author.name }}</span>
        </td>
      </ng-container>


      <!-- first publish year -->
      <ng-container matColumnDef="first_publish_year">
        <th mat-header-cell *matHeaderCellDef>
          <span style="font-weight: bold;">First publish year</span> 
        </th>
        <td mat-cell *matCellDef="let element">
          {{ element.first_publish_year }}
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>

  <!-- paginator -->

  <mat-paginator
    [length]="100"
    aria-label="Select page of periodic elements"
    [pageSizeOptions]="[10, 20, 30]"
    [pageIndex]="0"
    [pageSize]="10"
    (page)="pageChanged($event)"
  >
  </mat-paginator>
</div>
